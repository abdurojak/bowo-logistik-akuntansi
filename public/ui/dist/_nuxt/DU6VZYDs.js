import q from"./BrqrogAf.js";import{d as j,s as E,o as R,af as F,h as H,x as g,ag as U,a5 as Y,ah as K,r as N,a as Q,k as W,V as X,y as n,B as a,z as s,ac as G,C as t,N as o,ai as J,aj as z,ak as Z,D as b,al as ee,am as ae,an as B,ao as te,ap as oe,X as _,L as T,aq as re,Q as I,Y as V,ar as D,a0 as w,as as le,A as $,at as ne,au as se,av as P,a7 as ie}from"./Dh8vZoxI.js";import{_ as de}from"./DlAUqK2U.js";const ue=Symbol.for("nuxt:client-only"),ce=j({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(k,{slots:c,attrs:m}){const i=E(!1);R(()=>{i.value=!0});const h=U();return h&&(h._nuxtClientOnly=!0),Y(ue,!0),()=>{var v;if(i.value){const f=(v=c.default)==null?void 0:v.call(c);return f&&f.length===1?[F(f[0],m)]:f}const d=c.fallback||c.placeholder;if(d)return H(d);const C=k.fallback||k.placeholder||"",p=k.fallbackTag||k.placeholderTag||"span";return g(p,m,C)}}}),ge=[{type:"item",name:"Home",icon:"material-symbols:home",link:"/dashboard",allowed:["admin","owner","user"]},{type:"item",name:"Transaksi",icon:"material-symbols:handshake-rounded",link:"/dashboard/transaksi",allowed:["admin","owner","user"]},{type:"item",name:"Log Activity",icon:"material-symbols:nest-clock-farsight-analog-rounded",link:"/dashboard/log-activity",allowed:["admin","owner","user"]},{type:"group",label:"Laporan Keuangan",allowed:["admin","owner","user"],items:[{name:"Laba Rugi",icon:"ri:plant-fill",link:"/dashboard/laba-rugi"},{name:"Neraca",icon:"icon-park-solid:balance-two",link:"/dashboard/neraca"}]},{type:"group",label:"Master Data",allowed:["admin","owner"],items:[{name:"Manajemen User",icon:"material-symbols:person",link:"/dashboard/user"},{name:"Chart of Account",icon:"material-symbols:bubble-chart",link:"/dashboard/chart-of-account"},{name:"Tipe Akun",icon:"material-symbols:list-alt",link:"/dashboard/tipe-akun"},{name:"PT",icon:"mdi:office-building",link:"/dashboard/pt"},{name:"Rekening",icon:"material-symbols:account-balance",link:"/dashboard/rekening"}]}],me=()=>K("color-mode").value,fe={class:"min-h-screen dark:bg-gray-800 bg-emerald-100"},be={key:0,class:"text-amber-400"},ke={key:1,class:"text-slate-700"},he={href:"../dashboard/profil"},pe={class:"flex relative"},ve={class:"text-xs font-thin"},ye={class:"fixed bottom-20 right-5 flex flex-col gap-3 z-50"},xe={__name:"dashboard",setup(k){const c=le(),m=me(),i=N(!1),{$apiFetch:h}=Q(),d=N(!1),C=localStorage.getItem("role_user"),p=()=>{d.value=window.innerWidth<768,i.value=!d.value},v=async()=>{try{const u=await h("/auth/profile")}catch{S()}},f=W(()=>{function u(e){return!e.allowed||e.allowed.includes(C)}return ge.map(e=>{var l;if(!u(e))return null;if(e.type==="group"){const y=(l=e.items)==null?void 0:l.filter(u);return y.length?{...e,items:y}:null}return e}).filter(Boolean)});X(()=>c.fullPath,()=>{d.value&&(i.value=!1)}),R(()=>{v(),p(),window.addEventListener("resize",p)});function A(u){m.preference=m.preference==="dark"?"light":"dark"}function S(){localStorage.removeItem("token"),localStorage.removeItem("created_by"),localStorage.removeItem("nama_user"),localStorage.removeItem("role_user"),window.location.href="/"}function L(u){const e=document.querySelector("main");if(!e)return;const l={behavior:"smooth"};u==="top"?e.scrollTo({top:0,...l}):u==="bottom"&&e.scrollTo({top:e.scrollHeight,...l})}return(u,e)=>{const l=q,y=ce;return n(),g("div",fe,[a(o(oe),{solid:"",class:"fixed bg-green-500 dark:bg-slate-900 top-0 left-0 right-0 z-30 dark:text-white"},G({logo:t(()=>[s("button",{onClick:e[0]||(e[0]=r=>i.value=!i.value),class:"mr-3 dark:text-gray-400 text-gray-500 hover:text-gray-300"},[a(l,{name:"charm:menu-hamburger",size:"24"})])]),"right-side":t(()=>[s("button",{onClick:A,class:"text-xl mx-3 items-center rounded hover:bg-gray-200 dark:hover:bg-gray-700"},[o(m).preference==="dark"?(n(),g("span",be,[a(l,{name:"material-symbols:light-mode",size:"30"})])):(n(),g("span",ke,[a(l,{name:"material-symbols:dark-mode",size:"30"})]))]),a(y,null,{default:t(()=>[a(o(ee),{"align-to-end":"",text:"Bottom"},{trigger:t(()=>[a(o(te),{img:"/images/profil.png",rounded:"",bordered:"",size:"sm"})]),default:t(()=>[a(o(ae),{class:"text-sm text-gray-700 dark:text-gray-200 font-normal"},{default:t(()=>[s("a",he,[a(o(B),{class:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},{default:t(()=>e[6]||(e[6]=[b(" Profile ")])),_:1,__:[6]})]),s("a",{onClick:S},[a(o(B),{class:"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white"},{default:t(()=>e[7]||(e[7]=[b(" Sign out ")])),_:1,__:[7]})])]),_:1})]),_:1})]),_:1})]),_:2},[d.value?{name:"default",fn:t(({isShowMenu:r})=>[a(o(J),{"is-show-menu":r},{default:t(()=>[a(o(z),{link:"#"},{default:t(()=>[a(o(Z),{"model-value":o(m).preference==="dark","onUpdate:modelValue":A,color:"yellow",label:"Dark Mode"},null,8,["model-value"])]),_:1}),a(o(z),{link:"../dashboard/profil"},{default:t(()=>e[4]||(e[4]=[b(" Profile ")])),_:1,__:[4]}),a(o(z),{onClick:S},{default:t(()=>e[5]||(e[5]=[b(" Sign out ")])),_:1,__:[5]})]),_:2},1032,["is-show-menu"])]),key:"0"}:void 0]),1024),e[8]||(e[8]=s("div",{class:"h-16"},null,-1)),s("div",pe,[a(P,{name:"slide"},{default:t(()=>[i.value?(n(),_(o(se),{key:0,class:w(["w-64 z-40 dark:text-white text-green-600",(d.value,"fixed left-0 h-full shadow-md")])},{default:t(()=>[a(o(re),{name:"Akuntansi",logo:"/images/logo.svg",tag:"router-link",link:"/dashboard"}),(n(!0),g(I,null,V(o(f),(r,M)=>(n(),g(I,{key:M},[r.type==="item"?(n(),_(o(D),{key:0,link:r.link,class:w([o(c).path===r.link?"hover:bg-gray-300 bg-green-300 hover:text-green-600 dark:bg-gray-700 dark:text-white":"hover:bg-gray-200 dark:hover:bg-gray-800 dark:hover:text-white"])},{icon:t(()=>[a(l,{name:r.icon,size:"20"},null,8,["name"])]),default:t(()=>[b($(r.name),1)]),_:2},1032,["link","class"])):r.type==="group"?(n(),_(o(ne),{key:1,border:""},{default:t(()=>[s("span",ve,$(r.label),1),(n(!0),g(I,null,V(r.items,(x,O)=>(n(),_(o(D),{key:`${M}-${O}`,link:x.link,class:w([o(c).path===x.link?"hover:bg-gray-300 bg-green-300 hover:text-green-600 dark:bg-gray-700 dark:text-white":"hover:bg-gray-200 dark:hover:bg-gray-800 dark:hover:text-white"])},{icon:t(()=>[a(l,{name:x.icon,size:"20"},null,8,["name"])]),default:t(()=>[b($(x.name),1)]),_:2},1032,["link","class"]))),128))]),_:2},1024)):T("",!0)],64))),128))]),_:1},8,["class"])):T("",!0)]),_:1}),a(P,{"enter-active-class":"transition-opacity","enter-from-class":"opacity-0","enter-to-class":"opacity-80","leave-active-class":"transition-opacity duration-300","leave-from-class":"opacity-80","leave-to-class":"opacity-0"},{default:t(()=>[i.value&&d.value?(n(),g("div",{key:0,onClick:e[1]||(e[1]=r=>i.value=!1),class:"fixed inset-0 bg-black/70 z-30 opacity-80 backdrop-blur-sm"})):T("",!0)]),_:1}),s("div",ye,[s("button",{class:"rounded-full bg-green-700 text-white shadow-lg hover:bg-green-600 dark:bg-white dark:hover:text-green-500 dark:text-slate-600",onClick:e[2]||(e[2]=r=>L("top"))},[a(l,{name:"material-symbols:expand-circle-up",size:"30"})]),s("button",{class:"rounded-full bg-green-700 text-white shadow-lg hover:bg-green-600 dark:bg-white dark:hover:text-green-500 dark:text-slate-600",onClick:e[3]||(e[3]=r=>L("bottom"))},[a(l,{name:"material-symbols:expand-circle-down",size:"30"})])]),s("main",{class:w(["flex-1 p-2 transition-all",d.value?"":"ml-64"])},[ie(u.$slots,"default",{},void 0,!0)],2)])])}}},Se=de(xe,[["__scopeId","data-v-00a5e101"]]);export{Se as default};
